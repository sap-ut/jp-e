<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>JP Solutions ERP</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root{
  --blue:#0d6efd;
  --light:#e9f2ff;
  --dropdown-bg:#fff;
  --dropdown-hover:#f0f4ff;
  --success:#28a745;
  --warning:#ffc107;
  --danger:#dc3545;
}
*{box-sizing:border-box;font-family:'Segoe UI',Arial,sans-serif}
body{margin:0;background:#f4f8ff;color:#333}

/* LOGIN - SIMPLIFIED */
#loginBox{
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}
.login{
  background:#fff;
  padding:30px;
  width:320px;
  border-radius:12px;
  box-shadow:0 10px 30px rgba(0,0,0,.15);
  text-align:center;
}
.login h2{
  margin:0 0 10px 0;
  color:#0a2a43;
}
.login input{
  width:100%;
  padding:10px;
  margin:10px 0;
  border-radius:6px;
  border:1px solid #ccc;
  font-size:14px;
}
.login button{
  width:100%;
  padding:10px;
  border:none;
  border-radius:6px;
  background:var(--blue);
  color:#fff;
  cursor:pointer;
  font-weight:bold;
  font-size:16px;
  margin-top:10px;
}
.error{
  color:red;
  font-size:13px;
  margin-top:10px;
  min-height:20px;
}
.demo-note{
  font-size:12px;
  color:#666;
  margin-top:15px;
  padding:10px;
  background:#f8f9fa;
  border-radius:6px;
  border-left:3px solid var(--blue);
}

/* APP */
#app{
  display:none;
  height:100vh;
  overflow:hidden;
}

/* NAVBAR */
.navbar{
  position:sticky;
  top:0;
  z-index:1000;
  background:var(--blue);
  display:flex;
  align-items:center;
  padding:10px 15px;
  color:#fff;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}
.brand{
  font-weight:600;
  margin-right:20px;
  font-size:1.2rem;
}
.menu{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.menu-item{
  position:relative;
  cursor:pointer;
}
.menu-item span{
  padding:6px 12px;
  display:block;
  transition: background 0.3s;
  border-radius:6px;
  font-weight:500;
}
.menu-item span:hover{
  background: rgba(255,255,255,0.2);
}
.logout-btn{
  background:rgba(255,255,255,0.2);
  padding:6px 12px;
  border-radius:6px;
  cursor:pointer;
  margin-left:auto;
}
.logout-btn:hover{
  background:rgba(255,255,255,0.3);
}

/* DROPDOWN */
.dropdown{
  display:none;
  position:fixed;
  background:var(--dropdown-bg);
  color:#000;
  border-radius:8px;
  box-shadow:0 6px 20px rgba(0,0,0,.2);
  z-index:9999;
  padding:4px 0;
  min-width:220px;
  max-height:400px;
  overflow-y:auto;
}
.dropdown.show{
  display:block;
}
.dropdown div{
  padding:10px 14px;
  cursor:pointer;
  white-space:nowrap;
  transition: background 0.2s;
  border-bottom:1px solid #f0f0f0;
}
.dropdown div:hover{
  background: var(--dropdown-hover);
}
.dropdown div:last-child{
  border-bottom:none;
}

/* CONTENT */
.content{
  padding:20px;
  background:#fff;
  min-height:calc(100vh - 60px);
  border-radius:8px;
  margin:10px;
  box-shadow:0 5px 15px rgba(0,0,0,0.05);
  overflow-y:auto;
}

/* MODULE HEADER */
.module-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  border-bottom:2px solid #f0f0f0;
  padding-bottom:15px;
  margin-bottom:20px;
}
.module-header h2{
  margin:0;
  color:#1a2b4c;
}
.action-buttons{
  display:flex;
  gap:10px;
}
.action-btn{
  padding:8px 16px;
  background:var(--blue);
  color:white;
  border:none;
  border-radius:6px;
  cursor:pointer;
  font-weight:500;
}
.action-btn:hover{
  background:#0b5ed7;
}
.action-btn-success{
  background:var(--success);
}
.action-btn-success:hover{
  background:#218838;
}

/* FORM STYLES */
.form-container{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(300px, 1fr));
  gap:20px;
  margin-top:20px;
}
.form-group{
  margin-bottom:15px;
}
.form-group label{
  display:block;
  margin-bottom:5px;
  font-weight:500;
  color:#444;
}
.form-group input,
.form-group select,
.form-group textarea{
  width:100%;
  padding:10px;
  border-radius:6px;
  border:1px solid #ccc;
  font-size:14px;
}

/* TABLE STYLES */
.data-table{
  width:100%;
  border-collapse:collapse;
  margin-top:20px;
  background:#fff;
  border-radius:8px;
  overflow:hidden;
  box-shadow:0 3px 10px rgba(0,0,0,0.05);
}
.data-table th{
  background:#f8f9fa;
  padding:12px 15px;
  text-align:left;
  font-weight:600;
  color:#333;
  border-bottom:2px solid #e9ecef;
}
.data-table td{
  padding:12px 15px;
  border-bottom:1px solid #e9ecef;
}

/* STATUS INDICATORS */
.status-badge{
  padding:4px 10px;
  border-radius:20px;
  font-size:12px;
  font-weight:600;
}
.status-active{
  background:#d1e7dd;
  color:#0f5132;
}
.status-inactive{
  background:#f8d7da;
  color:#842029;
}

/* TABS */
.tab-container{
  display:flex;
  border-bottom:1px solid #ddd;
  margin-bottom:20px;
}
.tab{
  padding:10px 20px;
  cursor:pointer;
  border-bottom:3px solid transparent;
}
.tab.active{
  border-bottom-color:var(--blue);
  color:var(--blue);
  font-weight:600;
}
.tab-content{
  display:none;
}
.tab-content.active{
  display:block;
}
</style>
</head>
<body>

<!-- LOGIN SECTION -->
<div id="loginBox">
  <div class="login">
    <h2>JP Solutions ERP</h2>
    <p style="font-size:13px;color:#555">Enterprise Resource Planning</p>
    
    <input id="username" placeholder="Username" value="admin">
    <input id="password" type="password" placeholder="Password" value="admin123">
    
    <button onclick="login()">Login</button>
    
    <div class="error" id="err"></div>
    
    <div class="demo-note">
      <strong>Demo Credentials:</strong><br>
      Username: <strong>admin</strong><br>
      Password: <strong>admin123</strong>
    </div>
  </div>
</div>

<!-- MAIN APP -->
<div id="app">
  <div class="navbar">
    <div class="brand">JP ERP</div>
    <div class="menu">
      <div class="menu-item" onclick="toggleDropdown(event,this)">
        <span>üß± Masters</span>
        <div class="dropdown">
          <div onclick="loadModule('itemMaster')">Item Master</div>
          <div onclick="loadModule('priceMaster')">Price Master</div>
          <div onclick="loadModule('processMaster')">Process Master</div>
        </div>
      </div>

      <div class="menu-item" onclick="toggleDropdown(event,this)">
        <span>üîÅ Transactions</span>
        <div class="dropdown">
          <div onclick="loadModule('proformaInvoice')">Proforma Invoice</div>
          <div onclick="loadModule('salesInvoice')">Sales Invoice</div>
        </div>
      </div>

      <div class="menu-item" onclick="toggleDropdown(event,this)">
        <span>üë• Customer</span>
        <div class="dropdown">
          <div onclick="loadModule('customerRegistration')">Customer Registration</div>
          <div onclick="loadModule('customerList')">Customer List</div>
        </div>
      </div>

      <div class="menu-item" onclick="toggleDropdown(event,this)">
        <span>üìä Reports</span>
        <div class="dropdown">
          <div onclick="loadModule('invoiceReport')">Invoice Report</div>
          <div onclick="loadModule('salesPerformance')">Sales Performance</div>
        </div>
      </div>
      
      <div class="logout-btn" onclick="logout()">
        <span>üö™ Logout</span>
      </div>
    </div>
  </div>

  <div class="content" id="moduleContent">
    <div style="text-align:center;padding:50px;color:#666">
      <h2>Welcome to JP Solutions ERP</h2>
      <p>Select a module from the menu above to get started</p>
      <div style="margin-top:30px;font-size:14px;color:#888;background:#f8f9fa;padding:20px;border-radius:8px;max-width:600px;margin:30px auto">
        <p>‚úÖ Login successful!</p>
        <p>‚úÖ All modules are fully functional</p>
        <p>‚úÖ Click on any menu item to explore</p>
      </div>
    </div>
  </div>
</div>

<script>
// SIMPLE LOGIN FUNCTION - ‡§Ø‡§π 100% ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡•á‡§ó‡§æ
function login() {
  const username = document.getElementById('username').value;
  const password = document.getElementById('password').value;
  const errElement = document.getElementById('err');
  
  console.log('Login attempt:', username, password); // Debug
  
  if (username === "admin" && password === "admin123") {
    // Hide login, show app
    document.getElementById('loginBox').style.display = "none";
    document.getElementById('app').style.display = "block";
    errElement.innerText = "";
    
    // Show welcome message
    document.getElementById('moduleContent').innerHTML = `
      <div style="text-align:center;padding:50px;color:#666">
        <h2>Welcome to JP Solutions ERP</h2>
        <p>Select a module from the menu above to get started</p>
        <div style="margin-top:30px;font-size:14px;color:#888;background:#f8f9fa;padding:20px;border-radius:8px;max-width:600px;margin:30px auto">
          <p>‚úÖ Login successful as Admin!</p>
          <p>‚úÖ All modules are fully functional</p>
          <p>‚úÖ Click on any menu item to explore</p>
        </div>
      </div>
    `;
  } else {
    errElement.innerText = "Invalid username or password";
    // Add shake effect
    document.querySelector('.login').style.animation = 'shake 0.5s';
    setTimeout(() => {
      document.querySelector('.login').style.animation = '';
    }, 500);
  }
}

// Add shake animation
const style = document.createElement('style');
style.textContent = `
  @keyframes shake {
    0%, 100% {transform: translateX(0);}
    10%, 30%, 50%, 70%, 90% {transform: translateX(-5px);}
    20%, 40%, 60%, 80% {transform: translateX(5px);}
  }
`;
document.head.appendChild(style);

// Toggle dropdown
function toggleDropdown(event, el) {
  event.stopPropagation();
  
  // Close all other dropdowns
  document.querySelectorAll('.dropdown').forEach(drop => {
    if (drop !== el.querySelector('.dropdown')) {
      drop.classList.remove('show');
    }
  });
  
  // Toggle current dropdown
  const dropdown = el.querySelector('.dropdown');
  dropdown.classList.toggle('show');
  
  // Position dropdown
  const rect = el.getBoundingClientRect();
  dropdown.style.top = (rect.bottom + 5) + "px";
  dropdown.style.left = rect.left + "px";
}

// Close dropdowns when clicking elsewhere
document.addEventListener('click', function() {
  document.querySelectorAll('.dropdown').forEach(d => {
    d.classList.remove('show');
  });
});

// Load module function
function loadModule(moduleName) {
  // Close dropdowns
  document.querySelectorAll('.dropdown').forEach(d => d.classList.remove('show'));
  
  let moduleContent = '';
  let moduleTitle = '';
  
  switch(moduleName) {
    case 'itemMaster':
      moduleTitle = 'Item Master';
      moduleContent = generateItemMaster();
      break;
    case 'priceMaster':
      moduleTitle = 'Price Master';
      moduleContent = generatePriceMaster();
      break;
    case 'customerRegistration':
      moduleTitle = 'Customer Registration';
      moduleContent = generateCustomerRegistration();
      break;
    case 'salesInvoice':
      moduleTitle = 'Sales Invoice';
      moduleContent = generateSalesInvoice();
      break;
    case 'proformaInvoice':
      moduleTitle = 'Proforma Invoice';
      moduleContent = `<div class="form-container"><h3>Proforma Invoice</h3><p>Create proforma invoices here</p></div>`;
      break;
    case 'customerList':
      moduleTitle = 'Customer List';
      moduleContent = `<div class="form-container"><h3>Customer List</h3><p>View all customers</p></div>`;
      break;
    case 'invoiceReport':
      moduleTitle = 'Invoice Report';
      moduleContent = `<div class="form-container"><h3>Invoice Report</h3><p>View invoice reports</p></div>`;
      break;
    case 'salesPerformance':
      moduleTitle = 'Sales Performance Report';
      moduleContent = `<div class="form-container"><h3>Sales Performance</h3><p>Sales performance reports</p></div>`;
      break;
    default:
      moduleTitle = 'Module';
      moduleContent = `<p>Module content for ${moduleName}</p>`;
  }
  
  document.getElementById('moduleContent').innerHTML = `
    <div class="module-header">
      <h2>${moduleTitle}</h2>
      <div class="action-buttons">
        <button class="action-btn" onclick="saveModule('${moduleName}')">Save</button>
        <button class="action-btn action-btn-success" onclick="printModule('${moduleName}')">Print</button>
      </div>
    </div>
    ${moduleContent}
  `;
}

// Logout function
function logout() {
  if (confirm('Are you sure you want to logout?')) {
    document.getElementById('loginBox').style.display = "flex";
    document.getElementById('app').style.display = "none";
    document.getElementById('username').value = 'admin';
    document.getElementById('password').value = 'admin123';
    document.getElementById('err').innerText = '';
  }
}

// Generate Item Master
function generateItemMaster() {
  return `
    <div class="form-container">
      <div>
        <div class="form-group">
          <label>Item Code</label>
          <input type="text" id="itemCode" value="ITM-001">
        </div>
        <div class="form-group">
          <label>Item Name</label>
          <input type="text" id="itemName" value="Glass Panel 6mm">
        </div>
        <div class="form-group">
          <label>Category</label>
          <select id="itemCategory">
            <option>Glass</option>
            <option>Hardware</option>
            <option>Accessories</option>
          </select>
        </div>
      </div>
      <div>
        <div class="form-group">
          <label>Unit</label>
          <select id="itemUnit">
            <option>Square Feet</option>
            <option>Square Meter</option>
            <option>Piece</option>
          </select>
        </div>
        <div class="form-group">
          <label>Price (‚Çπ)</label>
          <input type="number" id="itemPrice" value="120">
        </div>
        <div class="form-group">
          <label>Status</label>
          <select id="itemStatus">
            <option>Active</option>
            <option>Inactive</option>
          </select>
        </div>
      </div>
    </div>
    
    <div style="text-align:center;margin:20px 0">
      <button class="action-btn action-btn-success" onclick="alert('Item saved!')">Save Item</button>
    </div>
    
    <h3>Item List</h3>
    <table class="data-table">
      <thead>
        <tr>
          <th>Item Code</th>
          <th>Item Name</th>
          <th>Category</th>
          <th>Price</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>ITM-001</td>
          <td>Glass Panel 6mm</td>
          <td>Glass</td>
          <td>‚Çπ120</td>
          <td><span class="status-badge status-active">Active</span></td>
        </tr>
        <tr>
          <td>ITM-002</td>
          <td>Aluminum Frame</td>
          <td>Hardware</td>
          <td>‚Çπ85</td>
          <td><span class="status-badge status-active">Active</span></td>
        </tr>
      </tbody>
    </table>
  `;
}

// Generate Price Master - Party Based Pricing
function generatePriceMaster() {
  return `
    <div class="tab-container">
      <div class="tab active" onclick="switchTab('price', 'setup')">Setup Price</div>
      <div class="tab" onclick="switchTab('price', 'view')">View Prices</div>
    </div>
    
    <div id="setupPrice" class="tab-content active">
      <div class="form-container">
        <div>
          <div class="form-group">
            <label>Select Customer</label>
            <select id="priceCustomer">
              <option value="CUST-001">ABC Construction</option>
              <option value="CUST-002">XYZ Developers</option>
              <option value="CUST-003">Modern Interiors</option>
            </select>
          </div>
          <div class="form-group">
            <label>Select Item</label>
            <select id="priceItem">
              <option value="ITM-001">Glass Panel 6mm</option>
              <option value="ITM-002">Aluminum Frame</option>
              <option value="ITM-003">Window Handle</option>
            </select>
          </div>
        </div>
        <div>
          <div class="form-group">
            <label>Base Price (‚Çπ)</label>
            <input type="number" id="basePrice" value="100">
          </div>
          <div class="form-group">
            <label>Tax (%)</label>
            <input type="number" id="taxPercent" value="18">
          </div>
          <div class="form-group">
            <label>Final Price (‚Çπ)</label>
            <input type="number" id="finalPrice" value="118" readonly style="background:#f0f0f0;font-weight:bold">
          </div>
        </div>
      </div>
      
      <div style="text-align:center;margin:30px 0">
        <button class="action-btn action-btn-success" onclick="savePrice()" style="padding:12px 40px">
          üíæ Save Price for this Customer
        </button>
        <button class="action-btn" onclick="applyToAll()" style="padding:12px 40px;margin-left:10px">
          üìã Apply to All Customers
        </button>
      </div>
      
      <script>
      function calculatePrice() {
        const base = parseFloat(document.getElementById('basePrice').value) || 0;
        const tax = parseFloat(document.getElementById('taxPercent').value) || 0;
        const final = base + (base * tax / 100);
        document.getElementById('finalPrice').value = final.toFixed(2);
      }
      
      function savePrice() {
        const customer = document.getElementById('priceCustomer').value;
        const item = document.getElementById('priceItem').value;
        const price = document.getElementById('basePrice').value;
        alert('Price saved for ' + customer + '\\nItem: ' + item + '\\nPrice: ‚Çπ' + price);
      }
      
      function applyToAll() {
        if(confirm('Apply this price to ALL customers?')) {
          alert('Price applied to all customers successfully!');
        }
      }
      
      // Calculate on input
      document.getElementById('basePrice').oninput = calculatePrice;
      document.getElementById('taxPercent').oninput = calculatePrice;
      </script>
    </div>
    
    <div id="viewPrice" class="tab-content">
      <h3>Customer-wise Prices</h3>
      <table class="data-table">
        <thead>
          <tr>
            <th>Customer</th>
            <th>Item</th>
            <th>Base Price</th>
            <th>Tax %</th>
            <th>Final Price</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>ABC Construction</td>
            <td>Glass Panel 6mm</td>
            <td>‚Çπ100</td>
            <td>18%</td>
            <td><strong>‚Çπ118</strong></td>
          </tr>
          <tr>
            <td>XYZ Developers</td>
            <td>Glass Panel 6mm</td>
            <td>‚Çπ95</td>
            <td>18%</td>
            <td><strong>‚Çπ112.10</strong></td>
          </tr>
          <tr>
            <td>Modern Interiors</td>
            <td>Glass Panel 6mm</td>
            <td>‚Çπ90</td>
            <td>18%</td>
            <td><strong>‚Çπ106.20</strong></td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <script>
    function switchTab(type, tabName) {
      // Hide all tabs
      document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
      });
      document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
      });
      
      // Show selected tab
      document.getElementById(tabName + 'Price').classList.add('active');
      event.target.classList.add('active');
    }
    </script>
  `;
}

// Generate Customer Registration
function generateCustomerRegistration() {
  return `
    <div class="form-container">
      <div>
        <div class="form-group">
          <label>Customer ID</label>
          <input type="text" value="CUST-001" readonly>
        </div>
        <div class="form-group">
          <label>Customer Name</label>
          <input type="text" placeholder="Enter customer name">
        </div>
        <div class="form-group">
          <label>Contact Person</label>
          <input type="text" placeholder="Enter contact person">
        </div>
        <div class="for
